# Copyright (c) 2014 David Black.
# Copyright (c) 2010-2014 the Fdroiddata contributors.
# Licensed under the GNU AGPLv3.

## Originally published at https://gitorious.org/asdgasd/my-fdroiddata:
##   build recipes might rely on other files found there.
## ANY OF THE FOLLOWING COULD BE OUTDATED OR JUST PLAIN WRONG!

Categories:Navigation
License:GPLv3
Web Site:http://osmand.net
Source Code:https://github.com/osmandapp/Osmand/commits
Issue Tracker:https://code.google.com/p/osmand/issues/list
Donate:https://code.google.com/p/osmand/#Please_support_the_project

Auto Name:OsmAnd~
Summary:Maps & navigation; online and off
Description:
Osmand~'s features can be extended by enabling the plugins 
via the settings, which include online
maps from many sources, tracking, OSM editing and accessibility enhancements.
Map data of both vector
and raster types can be stored on the phone memory card for offline usage, and
navigation by default uses offline methods. 
Map data packages for many territories can be downloaded from
within the app and there is a desktop program available on the website as well
for creating your own.
.

Repo Type:srclib
Repo:android

Build:1.5-ARM,145
    commit=r1.5
    subdir=OsmAnd
    init=rm ../SherlockBar/build.xml
    encoding=utf-8
    forcevercode=yes
    extlibs=perms-osmand_145.diff
    srclibs=tools@bfee93a8d;core@r1.1.4;resources@836be71481
    patch=remove_analytics_android_145.diff
    prebuild=rm ../../core/OsmAnd-java/src/net/osmand/plus/download/DownloadTracker.java && \
        $$SDK$$/tools/android update project -p ../SherlockBar && \
        sed -i 's/app_version">[^<]*/app_version">1.5-ARM/'            res/values/no_translate.xml && \
        sed -i '/keys/d' ant.properties && \
        cd ../../core/ && \
        git apply ../android/OsmAnd/libs/perms-osmand_145.diff
    build=ANDROID_SDK=$$SDK$$ ANDROID_NDK=$$NDK$$ OSMAND_ARM_ONLY=true ./ndk-build.sh && \
        ant jar native-libs -f $$tools$$/OsmAndMapCreator/build.xml && \
        ant build -f ../OsmAnd-java/build.xml
    buildjni=no

Build:1.7.5,170
    disable=not sure about native parts
    commit=5df6b3caf2
    subdir=OsmAnd
    init=rm ../SherlockBar/build.xml ant.properties
    srclibs=core@6c857f6c25387,resources@58c2bb3a1d
    prebuild=sed -i 's/app_version">[^<]*/app_version">1.7.5/' res/values/no_translate.xml
    build=ANDROID_SDK=$$SDK$$ ANDROID_NDK=$$NDK$$ ./full-ndk-build.sh 
    buildjni=no

Maintainer Notes:
Needs plenty of disk space, but the app can be run without native code
Could build gnu-trove via srclib
Qt in new_core branch
see https://github.com/osmandapp/OsmAnd-manifest/blob/master/current_release.xml 
.

Update Check Mode:None
Current Version:1.7.5
Current Version Code:170

